---
title: Email
description: Setup for sending emails with React components.
---

<Alert type="warning">
  <AlertDescription>
    Had to comment out the component code because of some "fs" module error
    bullshit.
  </AlertDescription>
</Alert>

## Installation

<Steps>

<Step>Install the following dependencies:</Step>

```bash
pnpm add jsx-email nodemailer
```

```bash
pnpm add @types/nodemailer -D
```

<Step>Add to `next.config.js` to prevent .mjs bundle errors.</Step>

<Alert type="info" style={{ marginTop: "1rem" }}>
  <AlertDescription>
    See https://github.com/antfu/shikiji/issues/13#issuecomment-1749588964
  </AlertDescription>
</Alert>

```js {3-16}
/** @type {import('next').NextConfig} */
const nextConfig = {
  webpack: (config) => {
    config.module.rules.push({
      test: /\.m?js$/,
      type: "javascript/auto",
      resolve: {
        fullySpecified: false,
      },
    });

    return config;
  },
  experimental: {
    esmExternals: false,
  },
};

module.exports = nextConfig;
```

<Step>Create and configure `lib/mailer.ts`</Step>

<ComponentSource name="mailer.ts" type="lib" />

<Step>Create `components/email.tsx`</Step>

<ComponentSource name="email/index.tsx" />

</Steps>

## Example Component

<ComponentSource name="email/demo.tsx" />
